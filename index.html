<body class="min-h-screen py-8" style="background-color: #ae1e53;">
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1024">
    <title>Inscri√ß√£o - 14¬∞ Semin√°rio de Educa√ß√£o Infantil do Vale do Para√≠ba</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
    
  html, body {
    min-width: 1024px;
    overflow-x: auto;
  }
  @media (max-width: 1024px) {
    body {
      zoom: 0.75;
    }
  }
 
</style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen py-8">
    <!-- Imagem de cabe√ßalho (sem sombra) -->
    <div class="w-full mb-6">
        <img src="https://i.imgur.com/WKqSSZd.png" alt="Cabe√ßalho do Semin√°rio" class="w-full max-w-4xl mx-auto rounded-lg">
    </div>

<div class="max-w-4xl mx-auto px-4">
    <!-- Bloco de Informa√ß√µes -->
    <div class="bg-white p-8 rounded-xl shadow-md mb-10">
        <h1 class="text-3xl font-bold text-gray-800 mb-4 text-center">
            Formul√°rio de Inscri√ß√£o
        </h1>

        <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
            <p class="text-lg text-gray-700 mb-2">
                üìÖ <strong>Data:</strong> 26/09 (sexta-feira, das 8h √†s 17h)
            </p>
            <p class="text-lg text-gray-700">
                üìç <strong>Local:</strong> Complexo Paulo Freire<br>
                Av. Engenheiro Davi Monteiro Lino, 3595 - Jardim Marcondes.<br>
                Jacare√≠ - SP, 12305-021.
            </p>
        </div>
    </div>

    <!-- Formul√°rio -->
    <form action="sucesso.html" method="GET" class="space-y-8">
            <!-- Se√ß√£o 1: Dados Pessoais -->
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b-2 border-blue-500 pb-2">
                    Dados Pessoais
                </h2>
                <div class="p-4 rounded-lg mb-6" style="background-color: #f38724;">
                    <p class="text-white">
                        ‚ö†Ô∏è Esta inscri√ß√£o √© individual e intransfer√≠vel. Para se inscrever, por favor, preencha todas as respostas abaixo:
                    </p>
                </div>

  
                <div class="space-y-6">
                    <!-- Nome completo -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            1. Nome completo *
                        </label>
                        <p class="text-xs text-gray-500 mb-2">Atente-se em escrever o nome corretamente.</p>
                        <input type="text" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                    </div>

                    <!-- CPF -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            2. CPF *
                        </label>
                        <input type="text" required placeholder="000.000.000-00" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                    </div>

                     <!-- Munic√≠pio -->
<div>
    <label class="block text-sm font-medium text-gray-700 mb-2">
        3. Munic√≠pio onde voc√™ trabalha *
    </label>

    <select id="municipioSelect" required onchange="mostrarCampoOutroMunicipio()"
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
        <option value="">Selecione um munic√≠pio</option>
        <option value="Aparecida">Aparecida</option>
        <option value="Arape√≠">Arape√≠</option>
        <option value="Areias">Areias</option>
        <option value="Bananal">Bananal</option>
        <option value="Cachoeira Paulista">Cachoeira Paulista</option>
        <option value="Ca√ßapava">Ca√ßapava</option>
        <option value="Campos do Jord√£o">Campos do Jord√£o</option>
        <option value="Canas">Canas</option>
        <option value="Caraguatatuba">Caraguatatuba</option>
        <option value="Cruzeiro">Cruzeiro</option>
        <option value="Cunha">Cunha</option>
        <option value="Guaratinguet√°">Guaratinguet√°</option>
        <option value="Igarat√°">Igarat√°</option>
        <option value="Ilhabela">Ilhabela</option>
        <option value="Jambeiro">Jambeiro</option>
        <option value="Jacare√≠">Jacare√≠</option>
        <option value="Lagoinha">Lagoinha</option>
        <option value="Lavrinhas">Lavrinhas</option>
        <option value="Lorena">Lorena</option>
        <option value="Monteiro Lobato">Monteiro Lobato</option>
        <option value="Natividade da Serra">Natividade da Serra</option>
        <option value="Paraibuna">Paraibuna</option>
        <option value="Pindamonhangaba">Pindamonhangaba</option>
        <option value="Piquete">Piquete</option>
        <option value="Potim">Potim</option>
        <option value="Queluz">Queluz</option>
        <option value="Reden√ß√£o da Serra">Reden√ß√£o da Serra</option>
        <option value="Roseira">Roseira</option>
        <option value="Santa Branca">Santa Branca</option>
        <option value="Santo Ant√¥nio do Pinhal">Santo Ant√¥nio do Pinhal</option>
        <option value="S√£o Bento do Sapuca√≠">S√£o Bento do Sapuca√≠</option>
        <option value="S√£o Jos√© do Barreiro">S√£o Jos√© do Barreiro</option>
        <option value="S√£o Jos√© dos Campos">S√£o Jos√© dos Campos</option>
        <option value="S√£o Luiz do Paraitinga">S√£o Luiz do Paraitinga</option>
        <option value="S√£o Paulo">S√£o Paulo</option>
        <option value="S√£o Sebasti√£o">S√£o Sebasti√£o</option>
        <option value="Silveiras">Silveiras</option>
        <option value="Taubat√©">Taubat√©</option>
        <option value="Trememb√©">Trememb√©</option>
        <option value="Ubatuba">Ubatuba</option>
        <option value="Outros">Outros</option>
    </select>

    <!-- Campo extra para "Outros", inicialmente escondido -->
    <div id="outroMunicipioDiv" class="mt-4 hidden">
        <label class="block text-sm font-medium text-gray-700 mb-2">
            Informe o nome do munic√≠pio
        </label>
        <input type="text" name="outroMunicipio" id="outroMunicipio"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
            placeholder="Digite o nome do munic√≠pio">
    </div>
</div>

<script>
    function mostrarCampoOutroMunicipio() {
        const select = document.getElementById("municipioSelect");
        const outroDiv = document.getElementById("outroMunicipioDiv");
        if (select.value === "Outros") {
            outroDiv.classList.remove("hidden");
        } else {
            outroDiv.classList.add("hidden");
        }
    }
</script>


                     <!-- Cargo -->
<div>
    <label class="block text-sm font-medium text-gray-700 mb-2">
        4. Qual seu cargo? *
    </label>
    <div class="space-y-2" id="cargoRadios">
        <label class="flex items-center">
            <input type="radio" name="cargo" value="Professor(a)" required class="mr-3 text-blue-600" onchange="mostrarCampoOutroCargo()">
            <span>Professor(a)</span>
        </label>
        <label class="flex items-center">
            <input type="radio" name="cargo" value="Coordenador pedag√≥gico" required class="mr-3 text-blue-600" onchange="mostrarCampoOutroCargo()">
            <span>Coordenador pedag√≥gico</span>
        </label>
        <label class="flex items-center">
            <input type="radio" name="cargo" value="Equipe da Secretaria" required class="mr-3 text-blue-600" onchange="mostrarCampoOutroCargo()">
            <span>Equipe da Secretaria</span>
        </label>
        <label class="flex items-center">
            <input type="radio" name="cargo" value="Estudante de pedagogia ou licenciaturas" required class="mr-3 text-blue-600" onchange="mostrarCampoOutroCargo()">
            <span>Estudante de pedagogia ou licenciaturas</span>
        </label>
<label class="flex items-center">
            <input type="radio" name="cargo" value="Secret√°rio(a) de educa√ß√£o" required class="mr-3 text-blue-600" onchange="mostrarCampoOutroCargo()">
            <span>Secret√°rio(a) de educa√ß√£o</span>
        </label>
        <label class="flex items-center">
            <input type="radio" name="cargo" value="Outros" required class="mr-3 text-blue-600" onchange="mostrarCampoOutroCargo()">
            <span>Outros</span>
        </label>
    </div>

    <!-- Campo extra para "Outros", inicialmente escondido -->
    <div id="outroCargoDiv" class="mt-4 hidden">
        <label class="block text-sm font-medium text-gray-700 mb-2">
            Informe seu cargo
        </label>
        <input type="text" name="outroCargo" id="outroCargo"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
            placeholder="Digite o nome do cargo">
    </div>
</div>

<script>
    function mostrarCampoOutroCargo() {
        const outrosRadio = document.querySelector('input[name="cargo"][value="Outros"]');
        const outroDiv = document.getElementById("outroCargoDiv");
        if (outrosRadio.checked) {
            outroDiv.classList.remove("hidden");
        } else {
            outroDiv.classList.add("hidden");
        }
    }
</script>


                    <!-- Celular -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            5. Celular *
                        </label>
                        <input type="tel" required placeholder="(00) 00000-0000" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                    </div>

                    <!-- E-mail -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            6. E-mail *
                        </label>
                        <input type="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                    </div>

                    <!-- Participa√ß√£o plen√°rias -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            7. Voc√™ participar√° das plen√°rias da manh√£ do Semin√°rio, que acontecer√£o das 8:00 √†s 12:00? *
                        </label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="plenarias" value="Sim" required class="mr-3 text-blue-600">
                                <span>Sim</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="plenarias" value="N√£o" required class="mr-3 text-blue-600">
                                <span>N√£o</span>
                            </label>
                        </div>
                    </div>

                    <!-- Participa√ß√£o almo√ßo -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            8. Voc√™ participar√° do almo√ßo que ser√° oferecido durante o evento, das 12:00 √†s 13:20? *
                        </label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="almoco" value="Sim" required class="mr-3 text-blue-600">
                                <span>Sim</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="almoco" value="N√£o" required class="mr-3 text-blue-600">
                                <span>N√£o</span>
                            </label>
                        </div>
                    </div>

                    <!-- Defici√™ncia -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            9. Por favor, informe se voc√™ √© uma pessoa com defici√™ncia ou tem alguma condi√ß√£o de sa√∫de que dever√≠amos estar cientes.
                        </label>
                        <p class="text-xs text-gray-400 mb-2">Caso n√£o tenha, pode deixar este campo em branco.</p>
                        <textarea rows="1" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"></textarea>
                    </div>
                </div>
            </div>

            <!-- Se√ß√£o 2: Escolha de Oficina -->
<div class="bg-white rounded-lg shadow-lg p-8">
    <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b-2 border-blue-500 pb-2">
        Escolha de Oficina
    </h2>
    <div class="p-4 rounded-lg mb-6" style="background-color: #f38724;">
                    <p class="text-white">
            ‚ö†Ô∏è Escolha uma das oficinas abaixo que ocorrer√£o no per√≠odo das 13:30 √†s 15:30. As vagas s√£o limitadas.
        </p>
    </div>

    <div id="listaOficinas" class="space-y-3">
        <!-- Oficinas ser√£o inseridas via JavaScript -->
    </div>
</div>

<script>
    // Simula√ß√£o de vagas dispon√≠veis (em um sistema real, isso viria do backend)
    const oficinas = [
        { id: "oficina1", titulo: "OFICINA 1", descricao: "Corpo e Inf√¢ncias: o direito da crian√ßa √† express√£o pela dan√ßa", vagas: 60 },
        { id: "oficina2", titulo: "OFICINA 2", descricao: "Brincar: rito de encantamento no ch√£o das inf√¢ncias", vagas: 100 },
        { id: "oficina3", titulo: "OFICINA 3", descricao: "Boas Pr√°ticas do Pr√™mio FLUPP de Educa√ß√£o", vagas: 50 },
        { id: "oficina4", titulo: "OFICINA 4", descricao: "O Cuidado e o Afeto como Curr√≠culo: o cotidiano de beb√™s e crian√ßas bem pequenas", vagas: 45 },
        { id: "oficina5", titulo: "OFICINA 5", descricao: "Tecendo Inf√¢ncias: uma Educa√ß√£o Infantil antirracista", vagas: 45 },
        { id: "oficina6", titulo: "OFICINA 6", descricao: "Aldeli√™: di√°logos entre arte, inf√¢ncia e natureza", vagas: 45 },
        { id: "oficina7", titulo: "OFICINA 7", descricao: "E se a cidade ouvisse as crian√ßas? Um convite para elaborar o Plano Munic√≠pal da Primeira Inf√¢ncia", vagas: 45 },
        { id: "oficina8", titulo: "OFICINA 8", descricao: "Cantigas e Brincadeiras: a m√∫sica como linguagem infantil", vagas: 45 },
        { id: "oficina9", titulo: "OFICINA 9", descricao: "Cotidiano como Base para Planejar a Forma√ß√£o Permanente na Escola das Inf√¢ncias", vagas: 16 },
        { id: "oficina10", titulo: "OFICINA 10", descricao: "Entre Livros, Leituras e Leitores: o importante papel da literatura na Educa√ß√£o Infantil", vagas: 30 },
    ];

    function renderOficinas() {
        const container = document.getElementById('listaOficinas');
        container.innerHTML = ''; // Limpa se for renderizar de novo

        oficinas.forEach(oficina => {
            const esgotada = oficina.vagas <= 0;
            const label = document.createElement('label');
            label.className = `flex items-start p-4 border rounded-lg hover:bg-blue-50 transition-colors cursor-pointer ${esgotada ? 'opacity-50 cursor-not-allowed' : 'border-gray-200'}`;

            const input = document.createElement('input');
            input.type = 'radio';
            input.name = 'oficina';
            input.value = oficina.id;
            input.required = true;
            input.className = 'mr-4 mt-1 text-blue-600';
            if (esgotada) {
                input.disabled = true;
            }

            const div = document.createElement('div');
            div.innerHTML = `
                <span class="font-medium">${oficina.titulo}</span> ‚Äì ${oficina.descricao}
                <div class="text-sm mt-1 ${esgotada ? 'text-red-600' : 'text-gray-600'}">
                    ${esgotada ? 'Vagas esgotadas' : `Vagas dispon√≠veis: ${oficina.vagas}`}
                </div>
            `;

            label.appendChild(input);
            label.appendChild(div);
            container.appendChild(label);
        });
    }

    renderOficinas();
</script>


            <!-- Se√ß√£o 3: Termos e Consentimento -->
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b-2 border-blue-500 pb-2">
                    Termos e Consentimento
                </h2>

                <div class="bg-gray-50 p-6 rounded-lg mb-6 text-sm text-gray-700 leading-relaxed">
                    <p class="mb-4">
                        Eu, inscrito no 14¬∫ Semin√°rio: O Infantil √© Fundamental, promovido pela Funda√ß√£o Lucia e Pelerson Penido - FLUPP, doravante denominada "Promotora", declaro que li, compreendi e estou de acordo com os termos desta Pol√≠tica de Privacidade e Prote√ß√£o de Dados Pessoais.
                    </p>

                    <h3 class="font-semibold mb-2">Consentimento para Tratamento de Dados Pessoais:</h3>
                    <p class="mb-4">
                        1. Declaro estar ciente e concordo que a "Promotora" coletar√° e tratar√° meus dados pessoais fornecidos no ato da inscri√ß√£o, tais como: nome, CPF, endere√ßo de e-mail, telefone e demais informa√ß√µes fornecidas, para os seguintes fins: a) Realiza√ß√£o de comunica√ß√µes referentes ao 14¬∫ Semin√°rio: O Infantil √© Fundamental; b) Possibilitar minha participa√ß√£o no evento e no programa; c) Fornecer informa√ß√µes relevantes sobre o evento, como atualiza√ß√µes de programa√ß√£o e materiais; d) Fins estat√≠sticos e an√°lises internas para melhorar a qualidade do evento; e) Cumprimento de obriga√ß√µes legais e regulat√≥rias.
                    </p>

                    <h3 class="font-semibold mb-2">Armazenamento e Reten√ß√£o de Dados Pessoais:</h3>
                    <p class="mb-4">
                        2. Os dados pessoais fornecidos ser√£o armazenados em ambiente seguro, garantindo sua confidencialidade e integridade, pelo per√≠odo necess√°rio para atingir as finalidades descritas no item 1, ou conforme exigido por lei. Ap√≥s esse per√≠odo, os dados ser√£o devidamente eliminados, exceto se houver outra base legal para a sua manuten√ß√£o.
                    </p>

                    <h3 class="font-semibold mb-2">Compartilhamento de Dados Pessoais:</h3>
                    <p class="mb-4">
                        3. Declaro estar ciente e concordo que a "Promotora" poder√° compartilhar meus dados pessoais com fornecedores relacionados √† realiza√ß√£o do evento.
                    </p>

                    <h3 class="font-semibold mb-2">Uso de Imagem e Registros Audiovisuais:</h3>
                    <p class="mb-2">
    4. Autorizo, gratuitamente, o uso da minha imagem e voz captadas durante o 14¬∫ Semin√°rio: O Infantil √© Fundamental para fins institucionais, informativos, promocionais e de comunica√ß√£o da Promotora.
</p>
<p class="mb-2">
    A autoriza√ß√£o inclui a divulga√ß√£o em redes sociais, sites, materiais gr√°ficos, v√≠deos, relat√≥rios e outras m√≠dias, sem limite de tempo ou local.
</p>
<p class="mb-2">
    As imagens captadas durante o evento poder√£o ser organizadas e disponibilizadas em uma pasta digital com o objetivo de registro, mem√≥ria e compartilhamento. O acesso a essa pasta ser√° feito por meio de link ou plataforma segura.
</p>
<p>
    Declaro estar ciente de que o uso ser√° feito de forma √©tica, respeitosa e com finalidade exclusivamente institucional.
</p>
</div>

                <div class="space-y-4">
                    <label class="flex items-start">
                        <input type="checkbox" required class="mr-3 mt-1 text-blue-600">
                        <span class="text-sm text-gray-700">
                            Li e concordo com os termos de privacidade e prote√ß√£o de dados pessoais.
                        </span>
                    </label>

                    <label class="flex items-start">
                        <input type="checkbox" class="mr-3 mt-1 text-blue-600">
                        <span class="text-sm text-gray-700">
                            Quero participar do grupo institucional de WhatsApp da FLUPP e do e-mail marketing para receber not√≠cias, atualiza√ß√µes e conte√∫dos da funda√ß√£o.
                        </span>
                    </label>
                </div>
            </div>

            <!-- Bot√£o de Envio -->
<div class="text-center">
    <button 
        type="submit" 
        class="text-white font-semibold py-4 px-12 rounded-lg transform hover:scale-105 transition-all duration-200"
        style="background-color: #0c8274;">
        Enviar Inscri√ß√£o
    </button>
</div>
<script>

        // CPF formatting
        document.querySelector('input[placeholder="000.000.000-00"]').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            e.target.value = value;
        });

        // Phone formatting
        document.querySelector('input[placeholder="(00) 00000-0000"]').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/(\d{2})(\d)/, '($1) $2');
            value = value.replace(/(\d{5})(\d)/, '$1-$2');
            e.target.value = value;
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9627516192c20094',t:'MTc1MzA2NTQ2Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, updateDoc, doc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCQRTrSF1Plht1hygzn-boSOh3yAL26w",
    authDomain: "meu-formulario-flupp.firebaseapp.com",
    projectId: "meu-formulario-flupp",
    storageBucket: "meu-formulario-flupp.firebasestorage.app",
    messagingSenderId: "1015950056493",
    appId: "1:1015950056493:web:3f42239dca669ca2ee2ca4"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const form = document.querySelector('form');
  const listaOficinasDiv = document.getElementById('listaOficinas');
  let oficinasFirebase = {};

  async function carregarOficinas() {
    const snapshot = await getDocs(collection(db, "oficinas"));
    listaOficinasDiv.innerHTML = '';
    snapshot.forEach(docSnap => {
      const data = docSnap.data();
      const id = docSnap.id;
      oficinasFirebase[id] = docSnap;

      const esgotada = data.vagas <= 0;
      const label = document.createElement('label');
      label.className = `flex items-start p-4 border rounded-lg hover:bg-blue-50 transition-colors cursor-pointer ${esgotada ? 'opacity-50 cursor-not-allowed' : 'border-gray-200'}`;

      const input = document.createElement('input');
      input.type = 'radio';
      input.name = 'oficina';
      input.value = id;
      input.required = true;
      input.className = 'mr-4 mt-1 text-blue-600';
      if (esgotada) input.disabled = true;

      const div = document.createElement('div');
      div.innerHTML = `
        <span class="font-medium">${data.titulo}</span> ‚Äì ${data.descricao}
        <div class="text-sm mt-1 ${esgotada ? 'text-red-600' : 'text-gray-600'}">
          ${esgotada ? 'Vagas esgotadas' : `Vagas dispon√≠veis: ${data.vagas}`}
        </div>
      `;

      label.appendChild(input);
      label.appendChild(div);
      listaOficinasDiv.appendChild(label);
    });
  }

  await carregarOficinas();

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const oficinaId = form.querySelector('input[name="oficina"]:checked')?.value || '';
    if (!oficinaId) return alert("Por favor, selecione uma oficina.");

    const oficinaDoc = oficinasFirebase[oficinaId];
    const oficinaData = oficinaDoc.data();

    if (oficinaData.vagas <= 0) {
      alert("Desculpe, as vagas para esta oficina se esgotaram.");
      await carregarOficinas();
      return;
    }

    const dados = {
      nome: form.querySelector('input[type="text"]').value,
      cpf: form.querySelector('input[placeholder*="000.000.000-00"]').value,
      municipio: form.querySelector('#municipioSelect')?.value || '',
      outroMunicipio: form.querySelector('#outroMunicipio')?.value || '',
      cargo: form.querySelector('input[name="cargo"]:checked')?.value || '',
      outroCargo: form.querySelector('#outroCargo')?.value || '',
      celular: form.querySelector('input[placeholder*="(00) 00000-0000"]').value,
      email: form.querySelector('input[type="email"]').value,
      plenarias: form.querySelector('input[name="plenarias"]:checked')?.value || '',
      almoco: form.querySelector('input[name="almoco"]:checked')?.value || '',
      deficiencia: form.querySelector('textarea')?.value || '',
      termos: form.querySelector('input[type="checkbox"][required]')?.checked || false,
      whatsapp: form.querySelectorAll('input[type="checkbox"]')[1]?.checked || false,
      oficina: oficinaId,
      enviadoEm: serverTimestamp()
    };

    try {
      await addDoc(collection(db, "inscricoes"), dados);
      await updateDoc(doc(db, "oficinas", oficinaId), { vagas: oficinaData.vagas - 1 });
      window.location.href = "sucesso.html";
      form.reset();
      await carregarOficinas();
    } catch (error) {
      console.error("Erro ao enviar:", error);
      alert("Erro ao enviar. Verifique os campos ou tente novamente.");
    }
  });
</script>

</html>
